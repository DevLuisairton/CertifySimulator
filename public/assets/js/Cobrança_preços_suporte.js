const perguntas = [
  {
    pergunta: "Qual √© o modelo de pre√ßo da AWS que permite pagar apenas pelo tempo de uso, sem compromisso de longo prazo?",
    respostas: [
      "A) Inst√¢ncias sob demanda",
      "B) Inst√¢ncias reservadas",
      "C) Spot Instances",
      "D) Savings Plans"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o modelo de pre√ßo da AWS que oferece descontos significativos em troca de um compromisso de uso de 1 ou 3 anos?",
    respostas: [
      "A) Inst√¢ncias reservadas",
      "B) Inst√¢ncias sob demanda",
      "C) Spot Instances",
      "D) Savings Plans"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o modelo de pre√ßo da AWS que permite comprar capacidade de computa√ß√£o n√£o utilizada a um custo reduzido?",
    respostas: [
      "A) Spot Instances",
      "B) Inst√¢ncias reservadas",
      "C) Inst√¢ncias sob demanda",
      "D) Savings Plans"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o modelo de pre√ßo da AWS que oferece descontos flex√≠veis em troca de um compromisso de gasto consistente?",
    respostas: [
      "A) Savings Plans",
      "B) Inst√¢ncias reservadas",
      "C) Inst√¢ncias sob demanda",
      "D) Spot Instances"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o custo associado √† transfer√™ncia de dados entre Regi√µes da AWS?",
    respostas: [
      "A) Cobrado por GB transferido",
      "B) Gratuito",
      "C) Cobrado apenas para transfer√™ncias acima de 1 TB",
      "D) Cobrado apenas para transfer√™ncias entre contas"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o custo associado √† transfer√™ncia de dados dentro da mesma Regi√£o da AWS?",
    respostas: [
      "A) Gratuito",
      "B) Cobrado por GB transferido",
      "C) Cobrado apenas para transfer√™ncias acima de 1 TB",
      "D) Cobrado apenas para transfer√™ncias entre contas"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite estimar o custo de uso de servi√ßos antes de implant√°-los?",
    respostas: [
      "A) AWS Pricing Calculator",
      "B) AWS Cost Explorer",
      "C) AWS Budgets",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite criar or√ßamentos e alertas de custo?",
    respostas: [
      "A) AWS Budgets",
      "B) AWS Cost Explorer",
      "C) AWS Pricing Calculator",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite analisar e visualizar custos e uso de servi√ßos?",
    respostas: [
      "A) AWS Cost Explorer",
      "B) AWS Budgets",
      "C) AWS Pricing Calculator",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite consolidar a cobran√ßa de m√∫ltiplas contas?",
    respostas: [
      "A) AWS Organizations",
      "B) AWS Cost Explorer",
      "C) AWS Budgets",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o benef√≠cio de usar tags de aloca√ß√£o de custos na AWS?",
    respostas: [
      "A) Organizar e rastrear custos por recurso ou projeto",
      "B) Reduzir automaticamente os custos",
      "C) Aumentar o desempenho dos recursos",
      "D) Melhorar a seguran√ßa dos recursos"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite gerenciar e distribuir descontos para contas vinculadas?",
    respostas: [
      "A) AWS Billing Conductor",
      "B) AWS Organizations",
      "C) AWS Cost Explorer",
      "D) AWS Budgets"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o plano de suporte da AWS que oferece suporte t√©cnico 24/7 com tempo de resposta de menos de 1 hora?",
    respostas: [
      "A) Enterprise Support",
      "B) Business Support",
      "C) Developer Support",
      "D) Basic Support"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS fornece recomenda√ß√µes para otimizar custos, desempenho e seguran√ßa?",
    respostas: [
      "A) AWS Trusted Advisor",
      "B) AWS Cost Explorer",
      "C) AWS Budgets",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite monitorar a sa√∫de e o desempenho de recursos em tempo real?",
    respostas: [
      "A) Amazon CloudWatch",
      "B) AWS Trusted Advisor",
      "C) AWS Health Dashboard",
      "D) AWS Cost Explorer"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite visualizar o status operacional e o desempenho dos servi√ßos da AWS?",
    respostas: [
      "A) AWS Health Dashboard",
      "B) Amazon CloudWatch",
      "C) AWS Trusted Advisor",
      "D) AWS Cost Explorer"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite denunciar abusos de recursos, como uso malicioso ou viola√ß√µes de seguran√ßa?",
    respostas: [
      "A) AWS Abuse Team",
      "B) AWS Trusted Advisor",
      "C) AWS Support Center",
      "D) AWS Health Dashboard"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o benef√≠cio de ser um AWS Partner?",
    respostas: [
      "A) Acesso a treinamentos e certifica√ß√µes",
      "B) Descontos em servi√ßos da AWS",
      "C) Suporte t√©cnico priorit√°rio",
      "D) Todas as op√ß√µes acima"
    ],
    correta: 3
  },
  {
    pergunta: "Qual servi√ßo da AWS permite comprar e vender software de terceiros?",
    respostas: [
      "A) AWS Marketplace",
      "B) AWS Organizations",
      "C) AWS Cost Explorer",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS oferece assist√™ncia t√©cnica personalizada para projetos complexos?",
    respostas: [
      "A) AWS Professional Services",
      "B) AWS Support Center",
      "C) AWS Trusted Advisor",
      "D) AWS Health Dashboard"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite encontrar solu√ß√µes pr√©-configuradas para necessidades espec√≠ficas?",
    respostas: [
      "A) AWS Solutions Architects",
      "B) AWS Marketplace",
      "C) AWS Professional Services",
      "D) AWS Support Center"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite acessar documenta√ß√£o t√©cnica, whitepapers e blogs?",
    respostas: [
      "A) AWS re:Post",
      "B) AWS Knowledge Center",
      "C) AWS Support Center",
      "D) AWS Documentation"
    ],
    correta: 3
  },
  {
    pergunta: "Qual servi√ßo da AWS permite interagir com a comunidade para tirar d√∫vidas t√©cnicas?",
    respostas: [
      "A) AWS re:Post",
      "B) AWS Knowledge Center",
      "C) AWS Support Center",
      "D) AWS Documentation"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite acessar recomenda√ß√µes personalizadas para otimizar recursos?",
    respostas: [
      "A) AWS Trusted Advisor",
      "B) AWS Cost Explorer",
      "C) AWS Budgets",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite monitorar e gerenciar o desempenho de aplica√ß√µes distribu√≠das?",
    respostas: [
      "A) AWS X-Ray",
      "B) Amazon CloudWatch",
      "C) AWS Trusted Advisor",
      "D) AWS Health Dashboard"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite gerenciar e monitorar a conformidade de recursos?",
    respostas: [
      "A) AWS Config",
      "B) AWS Trusted Advisor",
      "C) AWS Cost Explorer",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite automatizar auditorias de conformidade?",
    respostas: [
      "A) AWS Audit Manager",
      "B) AWS Config",
      "C) AWS Trusted Advisor",
      "D) AWS Cost Explorer"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite gerenciar e distribuir certificados SSL/TLS?",
    respostas: [
      "A) AWS Certificate Manager (ACM)",
      "B) AWS KMS",
      "C) AWS IAM",
      "D) Amazon GuardDuty"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite detectar dados confidenciais em buckets do Amazon S3?",
    respostas: [
      "A) Amazon Macie",
      "B) AWS Config",
      "C) AWS CloudTrail",
      "D) AWS IAM"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite proteger aplica√ß√µes web contra ataques de inje√ß√£o de SQL?",
    respostas: [
      "A) AWS WAF (Web Application Firewall)",
      "B) AWS Shield",
      "C) Amazon GuardDuty",
      "D) AWS IAM"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS fornece prote√ß√£o contra ataques DDoS em aplica√ß√µes web?",
    respostas: [
      "A) AWS Shield",
      "B) AWS WAF",
      "C) Amazon GuardDuty",
      "D) AWS IAM"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite centralizar o gerenciamento de seguran√ßa e conformidade?",
    respostas: [
      "A) AWS Security Hub",
      "B) AWS IAM",
      "C) AWS CloudTrail",
      "D) Amazon GuardDuty"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite auditar e monitorar chamadas de API em sua conta?",
    respostas: [
      "A) AWS CloudTrail",
      "B) AWS Config",
      "C) AWS IAM",
      "D) Amazon GuardDuty"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite avaliar a conformidade de recursos com pol√≠ticas internas?",
    respostas: [
      "A) AWS Config",
      "B) AWS CloudTrail",
      "C) AWS IAM",
      "D) Amazon GuardDuty"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite automatizar auditorias de conformidade e gerar relat√≥rios?",
    respostas: [
      "A) AWS Audit Manager",
      "B) AWS Config",
      "C) AWS CloudTrail",
      "D) AWS IAM"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o custo associado √† transfer√™ncia de dados de sa√≠da para a internet?",
    respostas: [
      "A) Cobrado por GB transferido",
      "B) Gratuito",
      "C) Cobrado apenas para transfer√™ncias acima de 1 TB",
      "D) Cobrado apenas para transfer√™ncias entre contas"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o custo associado √† transfer√™ncia de dados de entrada para a AWS?",
    respostas: [
      "A) Gratuito",
      "B) Cobrado por GB transferido",
      "C) Cobrado apenas para transfer√™ncias acima de 1 TB",
      "D) Cobrado apenas para transfer√™ncias entre contas"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite criar or√ßamentos e alertas de custo?",
    respostas: [
      "A) AWS Budgets",
      "B) AWS Cost Explorer",
      "C) AWS Pricing Calculator",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite analisar e visualizar custos e uso de servi√ßos?",
    respostas: [
      "A) AWS Cost Explorer",
      "B) AWS Budgets",
      "C) AWS Pricing Calculator",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite consolidar a cobran√ßa de m√∫ltiplas contas?",
    respostas: [
      "A) AWS Organizations",
      "B) AWS Cost Explorer",
      "C) AWS Budgets",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o benef√≠cio de usar tags de aloca√ß√£o de custos na AWS?",
    respostas: [
      "A) Organizar e rastrear custos por recurso ou projeto",
      "B) Reduzir automaticamente os custos",
      "C) Aumentar o desempenho dos recursos",
      "D) Melhorar a seguran√ßa dos recursos"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite gerenciar e distribuir descontos para contas vinculadas?",
    respostas: [
      "A) AWS Billing Conductor",
      "B) AWS Organizations",
      "C) AWS Cost Explorer",
      "D) AWS Budgets"
    ],
    correta: 0
  },
  {
    pergunta: "Qual √© o plano de suporte da AWS que oferece suporte t√©cnico 24/7 com tempo de resposta de menos de 1 hora?",
    respostas: [
      "A) Enterprise Support",
      "B) Business Support",
      "C) Developer Support",
      "D) Basic Support"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS fornece recomenda√ß√µes para otimizar custos, desempenho e seguran√ßa?",
    respostas: [
      "A) AWS Trusted Advisor",
      "B) AWS Cost Explorer",
      "C) AWS Budgets",
      "D) AWS Billing Conductor"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite monitorar a sa√∫de e o desempenho de recursos em tempo real?",
    respostas: [
      "A) Amazon CloudWatch",
      "B) AWS Trusted Advisor",
      "C) AWS Health Dashboard",
      "D) AWS Cost Explorer"
    ],
    correta: 0
  },
  {
    pergunta: "Qual servi√ßo da AWS permite visualizar o status operacional e o desempenho dos servi√ßos da AWS?",
    respostas: [
      "A) AWS Health Dashboard",
      "B) Amazon CloudWatch",
      "C) AWS Trusted Advisor",
      "D) AWS Cost Explorer"
    ],
    correta: 0
  }

];

const quiz = document.querySelector("#quiz");
const template = document.querySelector("template");
const finalizarBtn = document.querySelector("#finalizar");
const reiniciarBtn = document.querySelector("#reiniciar");

const corretas = new Set();
const marcadas = new Set();
const totalDePerguntas = perguntas.length;

for (const item of perguntas) {
  const quizItem = template.content.cloneNode(true);
  quizItem.querySelector("h3").textContent = item.pergunta;

  // Adicionar bandeirinha
  const bandeirinha = document.createElement("span");
  bandeirinha.textContent = "üö©";
  bandeirinha.style.cursor = "pointer";
  bandeirinha.style.marginLeft = "auto";
  bandeirinha.style.opacity = "0.5";
  bandeirinha.onclick = () => {
    if (marcadas.has(item)) {
      marcadas.delete(item);
      bandeirinha.style.opacity = "0.5";
    } else {
      marcadas.add(item);
      bandeirinha.style.opacity = "1";
    }
  };
  quizItem.querySelector("h3").appendChild(bandeirinha);

  for (let resposta of item.respostas) {
    const dt = quizItem.querySelector("dl dt").cloneNode(true);
    dt.querySelector("span").textContent = resposta;
    dt.querySelector("input").setAttribute("name", "perguntas-" + perguntas.indexOf(item));
    dt.querySelector("input").value = item.respostas.indexOf(resposta);
    dt.querySelector("input").onchange = (event) => {
      const estaCorreta = event.target.value == item.correta;

      corretas.delete(item);
      if (estaCorreta) {
        corretas.add(item);
      }
    };

    quizItem.querySelector("dl").appendChild(dt);
  }

  quizItem.querySelector("dl dt").remove();

  // coloca a pergunta na tela
  quiz.appendChild(quizItem);
}

// Fun√ß√£o para finalizar o simulado
finalizarBtn.addEventListener("click", () => {
  const resumo = document.querySelector("#resumo");
  resumo.innerHTML = ""; // Limpa o conte√∫do anterior

  const acertos = corretas.size;
  const erros = totalDePerguntas - acertos;
  const porcentagemAcertos = Math.round((acertos / totalDePerguntas) * 100);

  // Exibe o resumo
  resumo.innerHTML += `
    <h2>Resumo do Simulado</h2>
    <p>‚úÖ Acertos: ${acertos}</p>
    <p>‚ùå Erros: ${erros}</p>
    <p>üìä Porcentagem de Acertos: <strong style="color: #82027b;">${porcentagemAcertos}%</strong></p>
    <h3>Detalhes das Quest√µes:</h3>
  `;

  // Percorre todas as quest√µes para mostrar o resultado
  perguntas.forEach((item, index) => {
    const respostaUsuario = document.querySelector(`input[name="perguntas-${index}"]:checked`);
    const acertou = respostaUsuario && respostaUsuario.value == item.correta;
    const respostaCorreta = item.respostas[item.correta];
    const respostaSelecionada = respostaUsuario ? item.respostas[respostaUsuario.value] : "Nenhuma resposta selecionada";

    resumo.innerHTML += `
      <div class="questao-resumo">
        <p><strong>Quest√£o ${index + 1}:</strong> ${item.pergunta}</p>
        <p>${acertou ? "‚úÖ Acertou" : "‚ùå Errou"}</p>
        <p>Sua resposta: ${respostaSelecionada}</p>
        <p>Resposta correta: ${respostaCorreta}</p>
      </div>
    `;
  });

  // Exibe o resumo e o bot√£o de reiniciar
  resumo.style.display = "block";
  reiniciarBtn.style.display = "block";
  finalizarBtn.style.display = "none";
});

// Fun√ß√£o para reiniciar o simulado
reiniciarBtn.addEventListener("click", () => {
  // Rola a p√°gina at√© a primeira quest√£o
  const primeiraQuestao = document.querySelector(".quiz-item");
  if (primeiraQuestao) {
    primeiraQuestao.scrollIntoView({ behavior: "smooth" });
  }

  // Recarrega a p√°gina ap√≥s um pequeno delay para garantir que a rolagem ocorra
  setTimeout(() => {
    window.location.reload();
  }, 500); // 500ms de delay
});
